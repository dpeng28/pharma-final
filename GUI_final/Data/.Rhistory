library(shiny)
library(shinydashboard)
library(R.matlab)
library(ggplot2)
library(plotly)
library(randomForest)
library(matlabr)
setwd("C:/Users/Dan/OneDrive/Documents/Pharma/Final/GUI_final")
setwd(paste0(getwd(), "/Data"))
sensYoung = read.csv("young_sens.txt")
View(sensYoung)
sensYoung = read.table("young_sens.txt")
View(sensYoung)
rownames(sensYoung) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
colnames(sensYoung) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
rownames(sensYoung) = c('AUC', 'Ctrough_drug', 'Ctrough_glucose')
View(sensYoung)
melt_sensYoung = data.frame(parameters = NULL, target = NULL, value = NULL)
melt_sensYoung = data.frame(parameters = NULL, target = NULL, value = NULL)
for(myParam in colnames(sensYoung)) {
for(myTarget in rownames(sensYoung)) {
tempDf = data.frame(parameters = myParam, target = myTarget, value = sensYoung[myTarget, myParam])
melt_sensYoung = rbind(melt_sensYoung, tempDf)
}
}
View(melt_sensYoung)
sensMid = read.table("mid_sens.txt_sens.txt")
colnames(sensMid) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
rownames(sensMid) = c('AUC', 'Ctrough_drug', 'Ctrough_glucose')
melt_sensMid = data.frame(parameters = NULL, target = NULL, value = NULL)
for(myParam in colnames(sensMid)) {
for(myTarget in rownames(sensMid)) {
tempDf = data.frame(parameters = myParam, target = myTarget, value = sensYoung[myTarget, myParam])
melt_sensMid = rbind(melt_sensMid, tempDf)
}
}
sensMid = read.table("mid_sens.txt")
colnames(sensMid) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
rownames(sensMid) = c('AUC', 'Ctrough_drug', 'Ctrough_glucose')
melt_sensMid = data.frame(parameters = NULL, target = NULL, value = NULL)
for(myParam in colnames(sensMid)) {
for(myTarget in rownames(sensMid)) {
tempDf = data.frame(parameters = myParam, target = myTarget, value = sensMid[myTarget, myParam])
melt_sensMid = rbind(melt_sensMid, tempDf)
}
}
View(melt_sensMid)
View(melt_sensYoung)
View(sensMid)
View(sensYoung)
sensOld = read.table("old_sens.txt")
colnames(sensOld) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
rownames(sensOld) = c('AUC', 'Ctrough_drug', 'Ctrough_glucose')
melt_sensOld = data.frame(parameters = NULL, target = NULL, value = NULL)
for(myParam in colnames(sensOld)) {
for(myTarget in rownames(sensOld)) {
tempDf = data.frame(parameters = myParam, target = myTarget, value = sensOld[myTarget, myParam])
melt_sensOld = rbind(melt_sensOld, tempDf)
}
}
View(melt_sensOld)
View(melt_sensMid)
View(melt_sensYoung)
meltedSensDf = melt_sensOld
head(meltedSensDf)
p = ggplot(meltedSensDf, aes(parameters, target)) +
geom_tiles(aes(fill = value))
p = ggplot(meltedSensDf, aes(parameters, target)) +
geom_tile(aes(fill = value))
p
View(sensMid)
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol)+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
mycol <- c("darkgreen", 'grey96', 'darkred')
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol)+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
setwd(paste0(getwd(), "/Data"))
# load in the sensitivity data for young population
sensYoung = read.table("young_sens.txt")
colnames(sensYoung) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
rownames(sensYoung) = c('AUC', 'Ctrough_drug', 'Ctrough_glucose')
melt_sensYoung = data.frame(parameters = NULL, target = NULL, value = NULL)
for(myParam in colnames(sensYoung)) {
for(myTarget in rownames(sensYoung)) {
tempDf = data.frame(parameters = myParam, target = myTarget, value = sensYoung[myTarget, myParam])
melt_sensYoung = rbind(melt_sensYoung, tempDf)
}
}
# load in the sensitivity data for older mid age population
sensMid = read.table("mid_sens.txt")
colnames(sensMid) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
rownames(sensMid) = c('AUC', 'Ctrough_drug', 'Ctrough_glucose')
melt_sensMid = data.frame(parameters = NULL, target = NULL, value = NULL)
for(myParam in colnames(sensMid)) {
for(myTarget in rownames(sensMid)) {
tempDf = data.frame(parameters = myParam, target = myTarget, value = sensMid[myTarget, myParam])
melt_sensMid = rbind(melt_sensMid, tempDf)
}
}
# load in the sensitivity data for older mid age population
sensOld = read.table("old_sens.txt")
colnames(sensOld) = c('kg0', 'kgg', 'kgl', 'klp', 'kpl', 'kpg', 'kp0', 'kin')
rownames(sensOld) = c('AUC', 'Ctrough_drug', 'Ctrough_glucose')
melt_sensOld = data.frame(parameters = NULL, target = NULL, value = NULL)
for(myParam in colnames(sensOld)) {
for(myTarget in rownames(sensOld)) {
tempDf = data.frame(parameters = myParam, target = myTarget, value = sensOld[myTarget, myParam])
melt_sensOld = rbind(melt_sensOld, tempDf)
}
}
mycol <- c("darkgreen", 'grey96', 'darkred')
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol)+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
meltedSensDf = melt_sensYoung
mycol <- c("darkgreen", 'grey96', 'darkred')
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol)+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
min(meltedSensDf)
min(meltedSensDf$value)
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradient(colours = mycol, values = c(min(meltedSensDf$value),0,max(meltedSensDf$value)))+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradient(colours = mycol, values = c(min(meltedSensDf$value),0,max(meltedSensDf$value)))+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol, values = c(min(meltedSensDf$value),0,max(meltedSensDf$value)))+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
mycol <- c('white', "darkgreen", 'darkred')
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol, values = c(0, min(meltedSensDf$value), max(meltedSensDf$value)))+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol, values = c(0))+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol)+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
mycol <- c("darkgreen", 'white', 'darkred')
p = ggplot(meltedSensDf, aes(parameters, target)) +
scale_fill_gradientn(colours = mycol)+
theme(text = element_text(size=14))+
xlab("Parameters") +
ylab("Targets") +
geom_tile(aes(fill = value))
p
runApp('C:/Users/Dan/OneDrive/Documents/Pharma/Final/GUI_final')
runApp('C:/Users/Dan/OneDrive/Documents/Pharma/Final/GUI_final')
runApp('C:/Users/Dan/OneDrive/Documents/Pharma/Final/GUI_final')
runApp('C:/Users/Dan/OneDrive/Documents/Pharma/Final/GUI_final')
runApp('C:/Users/Dan/OneDrive/Documents/Pharma/Final/GUI_final')
runApp('C:/Users/Dan/OneDrive/Documents/Pharma/Final/GUI_final')
popYoung = readMat("young_pop_data.mat")
View(sensYoung)
View(popYoung)
popYoung = popYoung[[1]]
View(popYoung)
melt(popYoung)
library(reshape)
melt(popYoung)
melt(t(popYoung))
colnames(popYoung) = c('weight', 'height', 'kg0', 'kgg', 'kgl', 'kls', 'ksl', 'ksg', 'ks0', 'kin', 'Amax', 'Cend')
colnames(popYoung) = c('weight', 'height', 'kg0', 'kgg', 'kgl', 'kls', 'ksl', 'ksg', 'ks0', 'kin', 'Cend')
ncol(popYoung)
length(c('weight', 'height', 'kg0', 'kgg', 'kgl', 'kls', 'ksl', 'ksg', 'ks0', 'kin', 'Amax', 'Cend')
)
View(popYoung)
